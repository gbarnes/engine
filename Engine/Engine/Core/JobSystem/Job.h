#pragma once
//---------------------------------------------------------------------------//
//        Copyright 2016  Immersive Pixels. All Rights Reserved.			 //

//-----------------------------------------------------------------------------
// Inclusions
//-----------------------------------------------------------------------------
#include <atomic>

//-----------------------------------------------------------------------------
// Typedefs
//-----------------------------------------------------------------------------
struct SJob;
typedef void(*JobFunction)(SJob*);


//-----------------------------------------------------------------------------
// Main Struct Declarations
//-----------------------------------------------------------------------------
//-----------------------------------------------------------------------------
// 
//-----------------------------------------------------------------------------
struct SJob
{
	JobFunction Function;
	SJob* Parent;
	std::atomic_uint UnfinishedJobs;
	char Data[52];
	std::atomic_uint ContinuationCount; // new
	SJob* Continuations[15];    // new
};